{% extends "demo/base.html" %}
{% load wagtailcore_tags %}


{% block heading %}
  <div class="page-header">

    <div class="pull-right">
      {% for tag in self.tags.all %}
        <a href="{% pageurl self.blog_index %}?tag={{ tag }}"
           class="btn btn-primary btn-xs">
          <i class="glyphicon glyphicon-tag"></i> {{ tag }}
        </a>
      {% endfor %}
    </div>

    <h2>
      {{ self.title }}
      {% if self.date %}<small>{{ self.date }}</small>{% endif %}
    </h2>

  </div>
{% endblock %}

{% block content %}
    {% include "demo/includes/carousel.html" with carousel_items=self.carousel_items.all only %}

    {% comment %}
        Rendering the 'body' field using StreamBlock's default rendering:
        <div class="body-content">
            {{ self.body }}
        </div>
    {% endcomment %}

    <div class="body-content">
        {% for child in self.body %}
            <div class="block-{{ child.block_type }}">
                {% if child.block_type == 'heading' %}
                    <h3>{{ child }}</h3>
                {% else %}
                    {{ child }}
                {% endif %}
            </div>
        {% endfor %}
    </div>

    {% include "demo/includes/related_links.html" with related_links=self.related_links.all only %}
{% endblock %}
