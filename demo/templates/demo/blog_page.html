{% extends "demo/base.html" %}
{% load wagtailcore_tags %}


{% if self.date %}
    {% block heading %}
        <div class="page-header">
            <h2>{{ self.title }} {{ self.date }}</h2>
        </div>
    {% endblock %}
{% endif %}

{% block content %}
    {% include "demo/includes/carousel.html" with carousel_items=self.carousel_items.all only %}

    {% comment %}
        Rendering the 'body' field using StreamBlock's default rendering:
        <div class="body-content">
            {{ self.body }}
        </div>
    {% endcomment %}

    <div class="body-content">
        {% for child in self.body %}
            <div class="block-{{ child.block_type }}">
                {% if child.block_type == 'heading' %}
                    <h3>{{ child }}</h3>
                {% else %}
                    {{ child }}
                {% endif %}
            </div>
        {% endfor %}
    </div>

    {% with self.tags.all as tags %}
        {% if tags %}
            <div class="page-header"><h3>Tags</h3></div>
            {% for tag in tags %}
                <a href="{% pageurl self.blog_index %}?tag={{ tag }}"><button class="btn btn-primary" type="button">{{ tag }}</button></a>
            {% endfor %}
        {% endif %}
    {% endwith %}

    {% include "demo/includes/related_links.html" with related_links=self.related_links.all only %}
{% endblock %}
